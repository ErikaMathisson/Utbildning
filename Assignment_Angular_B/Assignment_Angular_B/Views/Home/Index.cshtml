
@{
    ViewBag.Title = "Index";
}

<h2>People list</h2>

<div ng-controller="MainController as list">
    <input ng-model="search" placeholder="Search..." />
    <br />
    <form name="personForm" ng-controller="AddPersonController as add" novalidate> 
        <label>Name:</label>
        <input type="text" name="name" ng-model="newperson.name" ng-maxlength="25" ng-minlength="4" ng-required="true"/>
        <label>Email:</label>
        <input type="text" name="email" ng-model="newperson.email" ng-minlength="6" ng-maxlength="30" ng-required="true" />
        <label>Phonenumber:</label>
        <input type="text" name="phone" ng-model="newperson.phone" ng-required="true" />
        <label>Country:</label>
        <input type="text" name="country" ng-model="newperson.country" ng-required="true"/>
        <br />
        <br />
        <input type="hidden" ng-model="newperson.id" />
     <!--   <input ng-disabled="personForm$invalid" type="button" value="Save" ng-click="add.savePerson()" />  -->
        <button ng-disabled="personForm.$invalid" ng-click="add.savePerson()">Save</button>
        <input type="button" value="Cancel" ng-click="add.cancel()"/>
        <br />
        {{status}}
        <br />
    </form>

    

        <div class="col-xs-12">
            <div class="col-xs-2" style="font-size:large">Name</div>
            <div class="col-xs-2" style="font-size:large">Email</div>
            <div class="col-xs-2" style="font-size:large">Phonenumber</div>
            <div class="col-xs-2" style="font-size:large">Country</div>
            <div class="col-xs-4" style="font-size:large">Action</div>
        </div>

        <div>
            <br />
                <div class="col-xs-12" ng-repeat="person in people |filter:search track by $index">
                    <div class="col-xs-2">{{person.name}}</div>
                    <div class="col-xs-2">{{person.email}}</div>
                    <div class="col-xs-2">{{person.phone}}</div>
                    <div class="col-xs-2">{{person.country}}</div>

                    <div class="col-xs-4">
                        <a href="#" ng-click="list.edit(person.id)">edit</a> |
                        <a href="#" ng-click="list.delete(person.id)">delete</a>
                    </div>

                </div>
            </div>
    </div>
